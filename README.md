Отлично, вот все задачи, пронумерованные и оформленные в формате Markdown:

---

### **Фаза 1: Подготовка Проекта и Базовая Структура**

1.  **Бэкенд: Инициализация проекта и настройка миграций**
    *   **Задача:** Инициализировать Node.js проект, установить Express.js, `sqlite3`. Создать структуру папок для контроллеров, сервисов, моделей и миграций БД.
    *   **Ожидаемый результат:** Пустой Node.js проект, `package.json` с зависимостями, базовые папки. Скрипт для создания/запуска миграций (например, с использованием `knex` или ручных скриптов).
2.  **Бэкенд: Настройка подключения к базе данных SQLite3**
    *   **Задача:** Разработать модуль для безопасного подключения к SQLite3. Создать первую миграцию для таблицы `weeks` (с полями `startDate`, `endDate`).
    *   **Ожидаемый результат:** Файл `db.js` или аналогичный для подключения к БД, первая миграция успешно выполнена, файл `database.sqlite` создан.
3.  **Фронтенд: Инициализация Vite + React + TypeScript**
    *   **Задача:** Инициализировать Vite проект с шаблоном React + TypeScript. Удалить ненужный boilerplate. Настроить базовую структуру компонентов и страниц.
    *   **Ожидаемый результат:** Работающий Vite-проект, отображающий пустую главную страницу.
4.  **Фронтенд: Настройка адаптивной верстки**
    *   **Задача:** Определить базовую дизайн-систему (цвета, шрифты) и настроить адаптивную верстку (например, с использованием медиа-запросов или `styled-components`). Проверить на различных разрешениях мобильных устройств.
    *   **Ожидаемый результат:** Корневой компонент React с базовыми стилями, обеспечивающими адаптацию к мобильным экранам.
5.  **Настройка CORS для локальной разработки**
    *   **Задача:** Настроить CORS на бэкенде, чтобы фронтенд мог взаимодействовать с API во время разработки.
    *   **Ожидаемый результат:** Бэкенд корректно обрабатывает запросы от фронтенда на `localhost`.

---

### **Фаза 2: Базовый Функционал Календаря и Недель**

6.  `[x]` **Бэкенд: CRUD для недель**
    *   **Задача:** Разработать REST API эндпоинты для:
        *   `GET /weeks` (получение информации о неделе по дате или ID)
        *   `POST /weeks` (создание новой недели, если её нет)
        *   Валидация входящих данных.
:start_line:33
-------
    *   **Ожидаемый результат:** Работающие эндпоинты, которые сохраняют данные о неделях в БД.
7.  `[x]` **Фронтенд: Компонент "Неделя" и Навигация**
    *   **Задача:** Создать компонент `WeekView`, который будет отображать текущую неделю. Реализовать кнопки "Предыдущая неделя" / "Следующая неделя" и логику обработки свайпов для переключения недель.
    *   **Ожидаемый результат:** Компонент, который умеет переключаться между датами и отображать начальную и конечную дату текущей недели.
8.  `[x]` **Фронтенд: Запрос данных о текущей неделе**
    *   **Задача:** Осуществить запрос к бэкенду для получения информации о текущей неделе при загрузке компонента `WeekView`.
:start_line:36
-------
     *   **Ожидаемый результат:** Приложение показывает правильный диапазон дат для текущей недели, полученный с бэкенда.
9.  `[x]` **Фронтенд: Разделение недели на 2 экрана**
    *   **Задача:** Разделить компонент `WeekView` на два подкомпонента (`FirstHalfOfWeek` и `SecondHalfOfWeek`) и реализовать механизм переключения между ними (свайпы и кнопки).
     *   **Ожидаемый результат:** Пользователь может переключаться между двумя экранами одной недели, каждый из которых отображает соответствующие дни.

---

### **Фаза 3: Функционал Дней Недели и Дел**

10. `[x]` **Бэкенд: Миграции для таблицы `tasks` (дел)**
    *   **Задача:** Создать миграцию для таблицы `tasks` (дел) со следующими полями: `id`, `weekId`, `dayOfWeek`, `type` (например, "babysitting", "expense"), `title`, `time`, `address`, `childName`, `hourlyRate`, `comments`, `category` (для трат). Добавить поля для безопасной обработки финансовых данных (например, `amountEarned`, `amountSpent`).
     *   **Ожидаемый результат:** Новая таблица `tasks` в БД.
11. `[x]` **Бэкенд: CRUD для задач (дел)**
    *   **Задача:** Разработать REST API эндпоинты для:
        *   `GET /tasks/:weekId/:dayOfWeek` (получение всех дел для определенного дня)
        *   `POST /tasks` (создание нового дела)
        *   `PUT /tasks/:id` (обновление дела)
        *   `DELETE /tasks/:id` (удаление дела)
        *   `POST /tasks/duplicate/:id` (дублирование дела)
        *   `PUT /tasks/move` (перемещение дела между днями или внутри дня).
        *   Все эндпоинты должны включать валидацию и санитаризацию данных.
     *   **Ожидаемый результат:** Полный набор работающих API для управления делами.
12. `[x]` **Фронтенд: Компонент "День Недели"**
    *   **Задача:** Создать компонент `DayColumn`, который будет отображать конкретный день недели и содержать 5 пустых строк (или динамически добавляемые строки при необходимости). ([gist.github.com](https://gist.github.com/nikitavoloboev/c8b71bfb06634877bbcf94ef2fc0c95f))
    *   **Ожидаемый результат:** На экране недели отображаются столбцы для каждого дня.
13. `[x]` **Фронтенд: Компонент "Дело" (Task/Appointment)**
    *   **Задача:** Создать компонент `TaskItem` для отображения одного дела, включая название, время, адрес, имя ребенка, ставку и комментарий. Добавить кнопки "удалить", "дублировать", "переместить".
    *   **Ожидаемый результат:** Каждое дело отображается как отдельный, интерактивный элемент.
:start_line:70
-------
14. `[x]` **Фронтенд: Форма создания/редактирования дела**
    *   **Задача:** Разработать модальную форму для добавления и редактирования деталей дела.
    *   **Ожидаемый результат:** При нажатии на пустую строку или существующее дело открывается форма для ввода/редактирования информации.
15. **Фронтенд: Логика drag-and-drop для дел**
    *   **Задача:** Реализовать функционал drag-and-drop для перемещения дел внутри дня и между днями (например, с использованием `react-dnd`).
    *   **Ожидаемый результат:** Пользователь может перетаскивать дела.
16. **Фронтенд: Взаимодействие с API для дел**
    *   **Задача:** Интегрировать компоненты `TaskItem` и форму дела с бэкенд API для сохранения, обновления, удаления, дублирования и перемещения дел.
    *   **Ожидаемый результат:** Все изменения дел корректно сохраняются в БД и отображаются на фронтенде.

---

### **Фаза 4: Отслеживание Финансов и Трат**

17. **Бэкенд: Миграции для таблицы `expense_categories`**
    *   **Задача:** Добавить таблицу `expense_categories` для предопределенных категорий трат (например, "Транспорт", "Питание", "Развлечения").
    *   **Ожидаемый результат:** Новая таблица для категорий.
18. **Бэкенд: Предопределение категорий трат**
    *   **Задача:** Создать API эндпоинт (`GET /expense-categories`) для получения списка категорий трат.
    *   **Ожидаемый результат:** Фронтенд может запросить список категорий трат.
19. **Бэкенд: Обработка "трат"**
    *   **Задача:** Добавить логику в API бэкенда для обработки дел типа "трата", включая сохранение категории и суммы.
    *   **Ожидаемый результат:** Траты сохраняются в БД с указанием категории и суммы.
20. **Бэкенд: Расчет заработка и трат**
    *   **Задача:** Создать эндпоинты (`GET /summary/:weekId` и `GET /summary/:weekId/:dayOfWeek`) для расчета общей суммы заработка и трат за неделю и за конкретный день.
    *   **Ожидаемый результат:** API возвращает итоговые суммы.
21. **Фронтенд: Тип дела "трата"**
    *   **Задача:** Добавить в форму создания/редактирования дела опцию "Тип дела" (например, "Работа", "Трата"). Если выбрана "Трата", отображать поле "Категория" (выпадающий список) и "Сумма".
    *   **Ожидаемый результат:** Форма динамически меняется в зависимости от выбранного типа.
22. **Фронтенд: Отображение финансовых показателей**
    *   **Задача:** Реализовать компонент для отображения текущей даты, суммы заработка и трат за текущий день и неделю в верхней части приложения. Обновлять эти данные при каждом изменении дел.
    *   **Ожидаемый результат:** Финансовая сводка всегда актуальна.

---

### **Фаза 5: Оптимизация и Безопасность**

23. **Бэкенд: Валидация и Санитаризация всех входных данных**
    *   **Задача:** Провести ревизию всех эндпоинтов REST API и убедиться, что все входящие данные строго валидируются (например, `Joi` или `express-validator`) и санитаризируются (например, для предотвращения XSS). Особое внимание уделить полям с текстом и цифрами.
    *   **Ожидаемый результат:** API надежно защищен от некорректных или вредоносных запросов.
24. **Бэкенд: Обработка ошибок**
    *   **Задача:** Реализовать унифицированную обработку ошибок на бэкенде, возвращая информативные сообщения об ошибках (статусные коды HTTP и JSON-объекты ошибок).
    *   **Ожидаемый результат:** API возвращает предсказуемые и полезные сообщения при ошибках.
25. **Фронтенд: Обработка ошибок UI**
    *   **Задача:** Реализовать отображение ошибок (например, через тосты или сообщения в UI) в случае проблем с запросами к API.
    *   **Ожидаемый результат:** Пользователь получает обратную связь при сбоях.
26. **Фронтенд: Оптимизация производительности**
    *   **Задача:** Проверить приложение на производительность на мобильных устройствах. Оптимизировать рендеринг, кеширование данных (при необходимости).
    *   **Ожидаемый результат:** Приложение быстро реагирует и плавно работает на мобильных устройствах.
27. **Фронтенд: Улучшение пользовательского опыта (UX)**
    *   **Задача:** Добавить мелкие улучшения UX: загрузочные индикаторы, состояния пустых данных, анимации (если уместно).
    *   **Ожидаемый результат:** Приложение ощущается более отзывчивым и приятным в использовании.

---

### **Фаза 6: Развертывание и Документация**

28. **Бэкенд: Скрипты развертывания**
    *   **Задача:** Создать скрипты для запуска бэкенда в продакшн-режиме (например, с использованием `pm2` или аналогичного).
    *   **Ожидаемый результат:** Бэкенд может быть легко запущен на сервере.
29. **Фронтенд: Сборка для продакшена**
    *   **Задача:** Настроить Vite для сборки фронтенд-приложения в продакшн-версию.
    *   **Ожидаемый результат:** Наличие `dist` папки с оптимизированной версией фронтенда.
30. **Документация: README.md**
    *   **Задача:** Создать детальный `README.md` для фронтенда и бэкенда, описывающий установку, запуск, используемые технологии и архитектуру.
    *   **Ожидаемый результат:** Доступная документация для разработчиков. ([simpledev.io](https://simpledev.io/lesson/task-list-md-1/))

---